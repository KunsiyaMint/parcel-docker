(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ac1fd"],{"17cd":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"}),t._m(0),e("table",{staticClass:"table table-striped"},[t._m(1),e("tbody",t._l(t.memberList,function(a,s){return e("tr",{key:a.id},[e("td",{staticStyle:{"text-align":"center"},attrs:{scope:"row",value:"0"}},[t._v(t._s(t.memberList[s].member_id))]),e("td",{staticStyle:{"text-align":"left"},attrs:{scope:"row",value:"0"}},[t._v(t._s(t.memberList[s].aliasname))]),e("td",{staticStyle:{"text-align":"center"},attrs:{scope:"row",value:"0"}},[t._v(t._s(t.changePhone(t.memberList[s].phoneregis)))]),e("td",{staticStyle:{"text-align":"left"},attrs:{scope:"row",value:"0"}},[t._v(t._s(t.memberList[s].address))]),e("td",{staticStyle:{"text-align":"center"},attrs:{scope:"row",value:"0"}},[e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(a){return t.getDataMember(s)}}},[t._v("COD")])])])}),0)]),e("div",{staticClass:"modal modal-wide fade",attrs:{id:"updateModal"}},[e("div",{staticClass:"modal-dialog modal-sm"},[e("div",{staticClass:"modal-content"},[t._m(2),e("div",{staticClass:"modal-body",staticStyle:{height:"600px"}},[e("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"col-sm-1"}),e("div",{staticClass:"col-sm-10"},[t._m(3),e("div",{staticClass:"col-sm-10"},[e("input",{ref:"urlBank",attrs:{id:"fileBank",type:"file",accept:"image/*"},on:{change:[t.onFileChangeBank,t.handleFileUploadBookBank]}})]),e("div",{staticClass:"col-sm-4"})]),e("div",{staticClass:"col-sm-1"})]),e("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"col-sm-1"}),e("div",{staticClass:"col-sm-10"},[e("div",{staticClass:"col-sm-2"}),e("div",{staticClass:"col-sm-10"},[e("div",{attrs:{id:"preview"}},[t.urlBank?e("img",{directives:[{name:"img",rawName:"v-img"}],staticClass:"responsive",staticStyle:{"margin-top":"0px",height:"200px",width:"500px"},attrs:{src:t.urlBank}}):t._e()])]),e("div",{staticClass:"col-sm-4"})]),e("div",{staticClass:"col-sm-1"})]),e("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"col-sm-1"}),e("div",{staticClass:"col-sm-10"},[t._m(4),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nameBank,expression:"nameBank"}],staticClass:"form-control",attrs:{placeholder:"ชื่อบัญชี",type:"text",maxlength:"12"},domProps:{value:t.nameBank},on:{keypress:t.inputCheckFormatName,input:function(a){a.target.composing||(t.nameBank=a.target.value)}}})])]),e("div",{staticClass:"col-sm-1"})]),e("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px"}},[e("div",{staticClass:"col-sm-1"}),e("div",{staticClass:"col-sm-10"},[t._m(5),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.numberBank,expression:"numberBank"}],staticClass:"form-control",attrs:{placeholder:"เลขที่บัญชี",type:"text",maxlength:"12"},domProps:{value:t.numberBank},on:{keypress:t.onlyNumber,input:function(a){a.target.composing||(t.numberBank=a.target.value)}}})])]),e("div",{staticClass:"col-sm-1"})]),e("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px","margin-top":"20px"}},[e("div",{staticClass:"col-sm-1"}),e("div",{staticClass:"col-sm-10"},[t._m(6),e("div",{staticClass:"col-sm-10"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.codeBank,expression:"codeBank"}],staticClass:"form-control dropdown-panel-detail",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.codeBank=a.target.multiple?e:e[0]}}},[e("option",{attrs:{disabled:"",selected:""}},[t._v("เลือกธนาคาร")]),t._l(t.dataBank,function(a,s){return e("option",{key:a.id,domProps:{value:{id:t.dataBank[s].id,text:t.dataBank[s].bankTh}}},[t._v(t._s(t.dataBank[s].bankTh))])})],2)])]),e("div",{staticClass:"col-sm-1"})]),e("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px","margin-top":"20px"}},[e("div",{staticClass:"col-sm-1"}),e("div",{staticClass:"col-sm-10"},[e("div",{staticClass:"col-sm-4"}),e("div",{staticClass:"col-sm-5"}),e("div",{staticClass:"col-sm-3"},[e("button",{staticClass:"btn btn-success btn-lg form-control",staticStyle:{"padding-bottom":"0px","margin-bottom":"0px",height:"52px","padding-top":"0px"},attrs:{"data-dismiss":"modal",type:"button"},on:{click:t.btnSaveMember}},[t._v("บันทึก")])])]),e("div",{staticClass:"col-sm-1"})])])])])]),t._m(7)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row",staticStyle:{"text-align":"center","margin-top":"30px"}},[e("b",{staticStyle:{"font-size":"32px","margin-bottom":"10px"}},[t._v("ข้อมูลสมาชิก")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticStyle:{"background-color":"#4169E1",color:"white"}},[e("tr",[e("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col"}},[e("b",{staticStyle:{"font-size":"18px"}},[t._v("Member ID")])]),e("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col"}},[e("b",{staticStyle:{"font-size":"18px"}},[t._v("Name")])]),e("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col"}},[e("b",{staticStyle:{"font-size":"18px"}},[t._v("Phone")])]),e("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col"}},[e("b",{staticStyle:{"font-size":"18px"}},[t._v("Address")])]),e("th",{staticStyle:{"text-align":"center"},attrs:{scope:"col"}},[e("b",{staticStyle:{"font-size":"18px"}},[t._v("Action")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header modalHeader",staticStyle:{"text-align":"center"}},[e("b",{staticStyle:{"font-size":"38px",color:"#FFFFFF"}},[t._v("เพิ่มข้อมูลหน้าบัญชี")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-2"},[e("b",[t._v("รูปถ่ายหน้าบัญชี")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-2"},[e("b",[t._v("ชื่อบัญชี")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-2"},[e("b",[t._v("เลขที่บัญชี")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-2"},[e("b",[t._v("ธนาคาร")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal fade",attrs:{id:"myModal"}},[s("div",{staticClass:"modal-dialog modal-confirm"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("div",{staticClass:"icon-box"},[s("img",{staticStyle:{"margin-top":"15px"},attrs:{src:e("2039"),height:"35px"}})]),s("h4",{staticClass:"modal-title"},[t._v("บันทึกข้อมูลสำเร็จ")])]),s("div",{staticClass:"modal-body"}),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-success btn-block",attrs:{"data-dismiss":"modal"}},[t._v("OK")])])])])])}],n=(e("a481"),e("bc3a")),o={data:function(){return{memberList:[],memberId:"",aliasname:"",address:"",nameBank:"",numberBank:"",phonemember:"",codeBank:"เลือกธนาคาร",url:null,urlBank:null,imgBookBank:"",dataBank:[]}},mounted:function(){},created:function(){this.listMember()},methods:{listMember:function(){var t=this,a={branch_id:38};n.post("https://apidev.whatitems.com/parcel/list/member/api",JSON.stringify(a)).then(function(a){console.log(a.data.phonechange),t.memberList=a.data,t.getDataBank()}).catch(function(t){console.log(t)})},changePhone:function(t){var a=t.replace("66","0");return a},editMember:function(){$("#updateModal").modal()},handleFileUploadBookBank:function(){this.fileBank=this.$refs.urlBank.files[0],this.uploadImg=this.$refs.urlBank.files[0]},onFileChangeBank:function(t){var a=t.target.files[0];this.urlBank=URL.createObjectURL(a)},upLoadImgBookBank:function(){var t=this,a=new FormData;function e(){return n.post("https://api.945cs.work/upload_frontend",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){return t.data})}a.append("file",this.fileBank),e().then(function(a){t.imgBookBank=a.fileName})},getDataBank:function(t){var a=this;n.get("https://apidev.whatitems.com/parcel/agent/bank/name").then(function(t){a.dataBank=t.data,console.log("databank",a.dataBank)}).catch(function(t){})},inputCheckFormatName:function(t){var a=t.keyCode?t.keyCode:t.which;a<48||a>57||t.preventDefault()},onlyNumber:function(t){var a=t.keyCode?t.keyCode:t.which;(a<48||a>57)&&t.preventDefault()},getDataMember:function(t){var a=this;$("#updateModal").modal(),a.memberId=this.memberList[t].member_id,a.aliasname=this.memberList[t].aliasname,a.phonemember=this.memberList[t].phoneregis,a.address=this.memberList[t].address,console.log("list",t),console.log("id",a.memberId),console.log("name",a.aliasname),console.log("phone",a.phonemember),console.log("address",a.address)},btnSaveMember:function(){var t=this;console.log("upLoadImgBookBank");var a=new FormData;function e(){return n.post("https://api.945cs.work/upload_frontend",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){return t.data})}a.append("file",this.fileBank),e().then(function(a){t.imgBookBank=a.fileName,console.log("imgBookBank",t.imgBookBank),t.dataSave()})},dataSave:function(){console.log("dataSave");var t=this,a={phoneRegis:t.phonemember,address:t.address,bankAccName:t.nameBank,bankIssue:t.codeBank.text,bankAcc:t.numberBank,imgBookBankUrl:t.imgBookBank};console.log("datamember",a),n.post("https://apidev.whatitems.com/parcel/agent/update/cod/register/api",JSON.stringify(a)).then(function(a){console.log(a.data.status),"SUCCESS"==a.data.status&&($("#updateModal").modal("hide"),$("#myModal").modal(),t.fileBank=null,t.uploadImg=null,t.urlBank=null,t.imgBookBank=null,t.numberBank="",t.nameBank="",t.codeBank.text="")}).catch(function(t){console.log(t)})}}},l=o,c=e("2877"),r=Object(c["a"])(l,s,i,!1,null,"395b1544",null);a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0ac1fd.5c1d92b6.js.map